<!DOCTYPE html>
<html>
<head>
    <title>PHP Class Generator</h1></title>
    <link href="assets/css/background2.css" rel="stylesheet">
</head>
<style type="text/css">
    .hide{
        display: none;
    }

    #trigger:hover{
        cursor: pointer;
    }
    .label {
        width:150px;
        display: inline-block;
        text-align: left;
    }
    .input{
        padding:5px 15px;
        background:white;
        border:0 none;
        cursor:pointer;
        -webkit-border-radius: 5px;
        border-radius: 5px;
    }
</style>
<style>
    .myButton {
        -moz-box-shadow:inset 0px 0px 14px -3px #f2fadc;
        -webkit-box-shadow:inset 0px 0px 14px -3px #f2fadc;
        box-shadow:inset 0px 0px 14px -3px #f2fadc;
        background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #dbe6c4), color-stop(1, #9ba892));
        background:-moz-linear-gradient(top, #dbe6c4 5%, #9ba892 100%);
        background:-webkit-linear-gradient(top, #dbe6c4 5%, #9ba892 100%);
        background:-o-linear-gradient(top, #dbe6c4 5%, #9ba892 100%);
        background:-ms-linear-gradient(top, #dbe6c4 5%, #9ba892 100%);
        background:linear-gradient(to bottom, #dbe6c4 5%, #9ba892 100%);
        filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#dbe6c4', endColorstr='#9ba892',GradientType=0);
        background-color:#dbe6c4;
        -moz-border-radius:6px;
        -webkit-border-radius:6px;
        border-radius:6px;
        border:1px solid #b2b8ad;
        display:inline-block;
        cursor:pointer;
        color:#141214;
        font-family:Arial;
        font-size:12px;
        font-weight:bold;
        padding:6px 12px;
        text-decoration:none;
        text-shadow:0px 1px 0px #ced9bf;


    }

    .myButtonBig {
        -moz-box-shadow:inset 0px 0px 14px -3px #f2fadc;
        -webkit-box-shadow:inset 0px 0px 14px -3px #f2fadc;
        box-shadow:inset 0px 0px 14px -3px #f2fadc;
        background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #dbe6c4), color-stop(1, #9ba892));
        background:-moz-linear-gradient(top, #dbe6c4 5%, #9ba892 100%);
        background:-webkit-linear-gradient(top, #dbe6c4 5%, #9ba892 100%);
        background:-o-linear-gradient(top, #dbe6c4 5%, #9ba892 100%);
        background:-ms-linear-gradient(top, #dbe6c4 5%, #9ba892 100%);
        background:linear-gradient(to bottom, #dbe6c4 5%, #9ba892 100%);
        filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#dbe6c4', endColorstr='#9ba892',GradientType=0);
        background-color:#dbe6c4;
        -moz-border-radius:6px;
        -webkit-border-radius:6px;
        border-radius:6px;
        border:1px solid #b2b8ad;
        display:inline-block;
        cursor:pointer;
        color:#141214;
        font-family:Arial;
        font-size:18px;
        font-weight:bold;
        padding:6px 24px;
        text-decoration:none;
        text-shadow:0px 1px 0px #ced9bf;

    }
    .myButton3 {

        -moz-box-shadow:inset 0px 1px 0px 0px #caefab;
        -webkit-box-shadow:inset 0px 1px 0px 0px #caefab;
        box-shadow:inset 0px 1px 0px 0px #caefab;
        background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #77d42a), color-stop(1, #5cb811));
        background:-moz-linear-gradient(top, #77d42a 5%, #5cb811 100%);
        background:-webkit-linear-gradient(top, #77d42a 5%, #5cb811 100%);
        background:-o-linear-gradient(top, #77d42a 5%, #5cb811 100%);
        background:-ms-linear-gradient(top, #77d42a 5%, #5cb811 100%);
        background:linear-gradient(to bottom, #77d42a 5%, #5cb811 100%);
        filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#77d42a', endColorstr='#5cb811',GradientType=0);
        background-color:#77d42a;
        -moz-border-radius:6px;
        -webkit-border-radius:6px;
        border-radius:6px;
        border:1px solid #268a16;
        display:inline-block;
        cursor:pointer;
        color:#96108;
        font-family:Arial;
        font-size:20px;
        font-weight:bold;
        padding:6px 24px;
        text-decoration:none;
        text-shadow:0px 1px 0px #aade7c;

    }
    .myButton:hover {
        background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #e9e9e9), color-stop(1, #f9f9f9));
        background:-moz-linear-gradient(top, #e9e9e9 5%, #f9f9f9 100%);
        background:-webkit-linear-gradient(top, #e9e9e9 5%, #f9f9f9 100%);
        background:-o-linear-gradient(top, #e9e9e9 5%, #f9f9f9 100%);
        background:-ms-linear-gradient(top, #e9e9e9 5%, #f9f9f9 100%);
        background:linear-gradient(to bottom, #e9e9e9 5%, #f9f9f9 100%);
        filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#e9e9e9', endColorstr='#f9f9f9',GradientType=0);
        background-color:#e9e9e9;
    }
    .myButton:active {
        position:relative;
        top:1px;
    }


</style>
<body class="MyGradientClass2">
<center>
    <h1 style="color:white">PHP Class Generator</h1>
    <hr style="width: 500px;"></hr>
    <hr style="width: 500px;"></hr>
    <br></br>
    <form method="post" action="src/xmlGenerator.php">
        <div id="container" class="col-md-8 col-md-offset-2 column" >
            <div class="form-group">
                <label for="disabledTextInput" class="label">Nama Kelas</label>
                <input type="text" id="nama-kelas" style="width: 250px;" class="input" placeholder="nama">
            </div>
            <h3>Atribut</h3>
            <div id="attribute-container" class="form-group">
                <div>
                    <label class="label">Atribut</label>
                    <input type="text" id="atribut-variabel-0" class="form-control input" style="width: 122px;" placeholder="variabel">
                    <input type="text" id="atribut-nilai-0" class="form-control input" style="width: 122px;" placeholder="nilai">
                </div>
            </div>

            <br><div type="" href="#" id="disabledTextInput" class="attr-trigger-attribute myButton">Tambah Atribut</div>
            <hr style="width: 500px;">
            <hr style="width: 500px;">

            <div id="method-container" class="form-group">
                <div>
                    <h3><i>Method 0</i></h3>
                    <div id="method-head-0" class="form-group">
                        <label for="disabledTextInput" class="label">Nama <i>Method</i></label>
                        <input type="text" id="method-nama-0" class="form-control input" style="width: 250px;" placeholder="nama">
                    </div>
                    <br></br>
                    <div id="method-parameter-container-0" class="form-group">
                        <label for="disabledTextInput" class="label">Parameter 0</label>
                        <input type="text" id="parameter-nama-0-0" class="form-control input" style="width: 250px;" placeholder="variabel">
                    </div>
                    <br><div href="#" class="myButton" onclick="addParameter(0);">Tambah Parameter</div>
                    <br></br/>

                    <div id="method-body-option-0">
                        <label for="disabledTextInput" >Isi</label>
                        <br><textarea id="method-content-0" class="input"rows="8" cols="55"></textarea></br>
                    </div>
                </div>
            </div>
            <hr style="width: 500px;"></hr>
            <br>
            <div href ="#" id ="disabledTextInput" class="attr-trigger-method myButtonBig">Tambah <i>Method</i></div>
            </br>
            <br></br>
            <hr style="width: 500px;"></hr>
            <hr style="width: 500px;"></hr>
            <br></br>
            <button href=# type="submit" class="myButton3" onclick="generateClass();"><i>Generate</i></button>
        </div>
        <input id="test" name="test" type="hidden"></input>
    </form>
</center>
<script src="assets/js/jquery.min.js"></script>
<script type="text/javascript">
    var numAttribute = 0;
    var numMethod = 0;
    var numContent = 0;
    var listOfParamter = [0];
    function addParameter(methodIndex) {
        listOfParamter[methodIndex]++;
        var newParamForm = '<br></br> '+

                '<label for="disabledTextInput" class="label">Parameter '+listOfParamter[methodIndex]+'</label> '+

                '<input type="text" id="parameter-nama-'+methodIndex+'-'+listOfParamter[methodIndex]+'" class="form-control input" style="width: 250px;" placeholder="variabel">';
        $("#method-parameter-container-"+methodIndex).append(newParamForm);
    }

    function generateClass() {
        var className = $("#nama-kelas").val();
        var attributes = [];
        var methods=[];
        for (var i=0;i<=numAttribute;i++) {
            var attribute = {
                nama : $("#atribut-variabel-"+i).val(),
                nilai : $("#atribut-nilai-"+i).val()
            };
            attributes.push(attribute);
        }
        for(var i=0;i<=numMethod;i++){
            var parameters=[];
            for(var j=0;j<=listOfParamter[i];j++){
                var parameter = $("#parameter-nama-"+i+"-"+j).val();
                parameters.push(parameter);
            }

            var method = {
                name : $("#method-nama-"+i).val(),
                content : $("#method-content-"+i).val(),
                parameter : parameters
            };
            methods.push(method);
        }

        var generated = {
            namaKelas : className,
            atribut : attributes,
            method : methods
        };
        document.getElementById("test").value = JSON.stringify(generated);

        console.log(document.getElementById("test").value);
    }

    $('.attr-trigger-attribute').on('click', function(){
        numAttribute++;
        var newForm = '<div>'+
                '<br></br>'+
                '<label class="label">Atribut</label> '+
                '<input type="text" id="atribut-variabel-'+numAttribute+'" class="form-control input" style="width: 122px;" placeholder="variabel"> '+
                '<input type="text" id="atribut-nilai-'+numAttribute+'" class="form-control input" style="width: 122px;" placeholder="nilai">'+
                '</div>';
        console.log(newForm);
        $('#attribute-container').append(newForm);
        console.log(numAttribute);
    });

    $('.attr-trigger-method-parameter').on('click', function(){
        var newForm = $('<div></div>');
        var label = $('<label></label>').attr('for', 'disabledTextInput').text("Parameter");
        var input1 = $('<input></input>').attr('type', 'text').attr('placeholder', 'variabel');

        newForm.append(label);
        newForm.append(" ");
        newForm.append(input1);
        $('#method-parameter-container').append(newForm);
    });

    $('.attr-trigger-method').on('click', function(){
        numMethod++;
        listOfParamter.push(0);
        console.log(listOfParamter);
        var newForm = '<hr style="width: 500px;"><div> '+
                '<h3><i>Method '+numMethod+'</i></h3> '+
                '<div id="method-head-'+numMethod+'" class="form-group"> '+
                '<label for="disabledTextInput" class="label">Nama <i>Method</i></label> '+
                '<input type="text" id="method-nama-'+numMethod+'" class="form-control input" style="width: 250px;" placeholder="nama"> '+
                '</div> '+
                '<br></br>'+
                '<div id="method-parameter-container-'+numMethod+'" class="form-group"> '+
                '<label for="disabledTextInput" class="label">Parameter 0</label> '+
                '<input type="text" id="parameter-nama-'+numMethod+'-0" class="form-control input" style="width: 250px;" placeholder="variabel"> '+
                '</div> '+
                '<br><div href="#" class="myButton" onclick="addParameter('+numMethod+');">Tambah Parameter</div> '+
                '<br></br/> '+
                '<div id="method-body-option-'+numMethod+'"> '+
                '<label for="disabledTextInput">Isi</label> '+
                '<br><textarea id="method-content-'+numMethod+'" class="input" rows="8" cols="55"></textarea></br>'+
                '</div> '+
                '</div>';
        console.log(newForm);

        $('#method-container').append(newForm);

    });
</script>
</body>
</html>